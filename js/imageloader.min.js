function ImageLoader(g){var k=null,l=undefined,h=true,m=false;var n=this;var e,c;this.images=[];this.begun=m;this.onAllLoaded=k;if(g.onAllLoaded!==l){this.onAllLoaded=g.onAllLoaded}this.onImageLoaded=k;if(g.onImageLoaded!==l){this.onImageLoaded=g.onImageLoaded}for(i=0;i<g.images.length;i++){var a="";var b=0;if(g.images[i]){if(g.images[i].name!=l){a=g.images[i].name}if(g.images[i].id!=l){b=g.images[i].id}this.images[i]=new f(a,b,i,g.images[i].file)}}this.imageCount=this.images.length;this.begun=h;this.getImageByPosition=function(o){for(i=0;i<this.imageCount;i++){if(o==this.images[i].position){if(this.images[i].loaded){return this.images[i].image}else{return k}}}return l};this.getImageById=function(o){for(i=0;i<this.imageCount;i++){if(o==this.images[i].id){if(this.images[i].loaded){return this.images[i].image}else{return k}}}return l};this.getImageByName=function(o){for(i=0;i<this.imageCount;i++){if(o==this.images[i].name){if(this.images[i].loaded){return this.images[i].image}else{return k}}}return l};this.loadedIds=function(o){if(this.begun){for(j=0;j<o.length;j++){for(i=0;i<this.imageCount;i++){if(o[j]==this.images[i].id){if(this.images[i].loaded==false){return m}}}}return h}return m};this.loadedNames=function(o){if(this.begun){for(j=0;j<o.length;j++){for(i=0;i<this.imageCount;i++){if(o[j]==this.images[i].name){if(this.images[i].loaded==false){return m}}}}return h}return m};this.loadedAll=function(){if(this.begun){for(i=0;i<this.imageCount;i++){if(this.images[i].loaded==m){return m}}return h}return m};var d=function(o){for(i=0;i<n.imageCount;i++){if(o==n.images[i].position){n.images[i].Done();if(n.onImageLoaded!=null){n.onImageLoaded(n.images[i].name,n.images[i].image,n.images[i].file)}}}e()};e=function(){for(i=0;i<n.imageCount;i++){if(!n.images[i].loaded){return}}c()};c=function(){if(n.onAllLoaded!=k){n.onAllLoaded()}};function f(p,s,o,q){var r=this;this.name=p;this.id=s;this.position=o;this.file=q;this.loaded=false;this.image=new Image();this.image.onload=function(){d(r.position)};this.image.src=this.file;this.Done=function(){r.loaded=true;r.image.onload=r.image.onabort=r.image.onerror=null}}};